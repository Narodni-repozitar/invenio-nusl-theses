{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "id": "https://nusl.cz/schemas/invenio_nusl_theses/nusl-theses-v1.0.0.json",
    "additionalProperties": false,
    "title": "My site v1.0.0",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string"
        },
        "language": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1
        },
        "identifier": {
            "type": "array",
            "$comment": "nusl, originalRecord, nuslOAI, originalOAI, catalogue, RIV",
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "value": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "nusl",
                            "originalRecord",
                            "nuslOAI",
                            "originalOAI",
                            "catalogue",
                            "RIV"
                        ]
                    }
                },
                "required": [
                    "value",
                    "type"
                ]
            }
        },
        "dateAccepted": {
            "type": "string",
            "format": "date",
            "$comment": "datum obhajoby"
        },
        "modified": {
            "type": "string",
            "format": "date-time",
            "$comment": "datum modifikace metadat i dat u nas v NUSLU"
        },
        "title": {
            "description": "Title of the work and is allowed to insert title in multiple languages",
            "type": "array",
            "items": {
                "$ref": "../nusl-common-v1.0.0.json#/definitions/multilanguage"
            }
        },
        "extent": {
            "type": "string"
        },
        "abstract": {
            "type": "array",
            "items": {
                "$ref": "../nusl-common-v1.0.0.json#/definitions/multilanguage"
            }
        },
        "rights": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "CC": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "code": {
                            "type": "string",
                            "enum": [
                                "CC BY",
                                "CC BY-NC",
                                "CC BY-SA",
                                "CC BY-ND",
                                "CC BY-NC-SA",
                                "CC BY-NC-ND"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "country": {
                            "type": "string",
                            "maxLength": 2
                        }
                    }
                },
                "copyright": {
                    "type": "array",
                    "items": {
                        "$ref": "../nusl-common-v1.0.0.json#/definitions/multilanguage"
                    }
                }
            }
        },
        "subject":{
            "type": "array",
            "items": {
                "anyOf": [
                    {
                        "allOf": [
                            {
                                "$ref": "../taxonomy-v1.0.0.json#/definitions/TaxonomyTerm"
                            },
                            {
                                "properties": {
                                    "url": {
                                        "type": "string"
                                    }

                                }
                            }
                        ]
                    },
                    {
                        "type": "object",
                        "aditionaProperties": false,
                        "properties": {
                            "$ref": {
                                "type": "string"
                            }
                        }
                    }
                ]
            }
        },
        "creator": {
            "type": "array",
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "id": {
                        "$ref": "../nusl-common-v1.0.0.json#/definitions/valueType"
                    }
                }
            }
        },
        "contributor": {
            "type": "array",
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "id": {
                        "$ref": "../nusl-common-v1.0.0.json#/definitions/valueType"
                    },
                    "role": {
                        "type": "string"
                    }
                }
            }
        },
        "doctype": {
            "$ref": "../taxonomy-v1.0.0.json#/definitions/TaxonomyTermOrReference"
        },
        "id": {
            "type": "string"
        },
        "subtitle": {
            "type": "array",
            "items": {
                "$ref": "../nusl-common-v1.0.0.json#/definitions/multilanguage"
            }
        },
        "note": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "accessibility": {
            "type": "array",
            "items": {
                "$ref": "../nusl-common-v1.0.0.json#/definitions/multilanguage"
            }
        },
        "accessRights": {
            "type": "string",
            "enum": [
                "open",
                "embargoed",
                "restricted",
                "metadata_only"
            ]
        },
        "provider": {
            "anyOf": [
                {
                    "allOf": [
                        {
                            "$ref": "../taxonomy-v1.0.0.json#/definitions/TaxonomyTerm"
                        },
                        {
                            "properties": {
                                "address": {
                                    "type": "string"
                                },
                                "url": {
                                    "type": "string"
                                },
                                "lib_url": {
                                    "type": "string"
                                }
                            }
                        }
                    ]
                },
                {
                    "type": "object",
                    "aditionaProperties": false,
                    "properties": {
                        "$ref": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "defended": {
            "type": "boolean"
        },
        "studyField": {
            "type": "array",
            "items": {
                "anyOf": [
                    {
                        "allOf": [
                            {
                                "$ref": "../taxonomy-v1.0.0.json#/definitions/TaxonomyTerm"
                            },
                            {
                                "properties": {
                                    "aliases": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "degree_level": {
                                        "type": "string"
                                    },
                                    "form_of_study": {
                                        "type": "string"
                                    },
                                    "grantor": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                                "faculty": {
                                                    "type": "string"
                                                },
                                                "university": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "date_of_accreditation_validity": {
                                        "type": "string"
                                    },
                                    "duration": {
                                        "type": "string"
                                    },
                                    "reference_number": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string"
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type": "object",
                        "aditionaProperties": false,
                        "properties": {
                            "$ref": {
                                "type": "string"
                            }
                        }
                    }
                ]
            }
        },
        "degreeGrantor": {
            "type": "array",
            "items": {
                "anyOf": [
                    {
                        "allOf": [
                            {
                                "$ref": "../taxonomy-v1.0.0.json#/definitions/TaxonomyTerm"
                            },
                            {
                                "properties": {
                                    "ICO": {
                                        "type": "string"
                                    },
                                    "RID": {
                                        "type": "string"
                                    },
                                    "address": {
                                        "type": "string"
                                    },
                                    "data_box": {
                                        "type": "string"
                                    },
                                    "deputy": {
                                        "type": "string"
                                    },
                                    "form": {
                                        "type": "string"
                                    },
                                    "region": {
                                        "type": "string"
                                    },
                                    "term_of_office_from": {
                                        "type": "string"
                                    },
                                    "term_of_office_until": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string"
                                    },
                                    "url": {
                                        "type": "string"
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "$ref": {
                                "type": "string"
                            }
                        }
                    }
                ]
            }
        }
    },
    "definitions": {
        "valueType": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "value"
            ],
            "properties": {
                "value": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "multilanguage": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "lang"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "lang": {
                    "type": "string"
                }
            }
        }
    },
    "required": [
        "language",
        "identifier",
        "dateAccepted",
        "title",
        "creator",
        "doctype",
        "id",
        "provider",
        "degreeGrantor"
    ]
}

